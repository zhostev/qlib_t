## Enhancement Plan for Model Training Integration

### Overview
The QLib trading platform needs to be enhanced to communicate with a local model training server at `144.0.23.148` instead of running model training tasks locally. This will allow for better resource management and scalability.

### Implementation Steps

1. **Update Backend Configuration**
   - Add configuration for the local model training server in the backend
   - Create environment variables or configuration files to store the server URL

2. **Modify Model Training Task Flow**
   - Update the `train_model_task` function in `backend/app/tasks/train.py` to send training requests to the local server
   - Implement API client for communicating with the local training server
   - Add error handling for remote communication failures

3. **Enhance Task Management**
   - Update task status tracking to handle remote training states
   - Implement periodic polling or webhook support for status updates from the local server
   - Add timeout handling for long-running remote tasks

4. **Update Performance Metrics Collection**
   - Modify the performance calculation logic to accept results from the local server
   - Ensure compatibility with the metrics format returned by the local training server

5. **Test Integration**
   - Test the connection between the backend and the local training server
   - Verify that training tasks are properly dispatched and tracked
   - Ensure performance metrics are correctly collected and displayed

### Files to Modify

1. **Backend Configuration**
   - `backend/.env` - Add environment variables for the local training server
   - `backend/app/config.py` - Add configuration loading logic

2. **Model Training Logic**
   - `backend/app/tasks/train.py` - Update to use remote training server
   - `backend/app/services/training_client.py` - Create new API client for local server

3. **Task Management**
   - `backend/app/services/task.py` - Enhance task status handling
   - `backend/app/tasks/task_worker.py` - Update task processing logic

4. **Performance Metrics**
   - `backend/app/services/analysis.py` - Update metrics processing

### Expected Changes

- The platform will send training requests to `http://144.0.23.148:8000/api/train` instead of running locally
- Training status will be tracked through API calls to the local server
- Performance metrics will be retrieved from the local server after training completes
- The existing frontend UI will continue to work without changes, as the API endpoints remain the same

### Testing Approach

1. **Unit Testing** - Test individual components in isolation
2. **Integration Testing** - Test the end-to-end flow from experiment creation to training completion
3. **Performance Testing** - Ensure the system handles multiple concurrent training requests
4. **Failure Testing** - Test error handling for various failure scenarios

This enhancement will allow the QLib trading platform to leverage the local server for model training while maintaining the same user experience for the frontend users.