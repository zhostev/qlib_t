## 修复计划

### 问题1：删除训练任务失败

**问题原因**：
- `handleDeleteExperiment` 函数在删除实验后直接从本地状态过滤掉该实验
- 但由于 `useEffect` 每5秒自动刷新实验列表，如果后端没有正确删除或删除需要时间，实验会重新出现

**修复方案**：
- 修改 `handleDeleteExperiment` 函数，在删除成功后立即调用 `fetchData` 刷新实验列表，确保本地状态与后端一致
- 移除直接从本地状态过滤实验的代码，改为依赖API返回的最新数据

### 问题2：页面频繁刷新

**问题原因**：
- `useEffect` 每5秒自动刷新实验列表
- 自动展开日志的逻辑（第174-188行）会在实验状态变化时频繁切换展开的日志面板
- 当有多个运行中的实验时，会不断检查并自动展开第一个运行中的实验的日志

**修复方案**：
1. 优化自动展开日志的逻辑：
   - 仅在用户没有手动选择查看某个实验的日志时，才自动展开第一个运行中的实验日志
   - 避免在已有手动选择的情况下频繁切换
2. 调整自动刷新逻辑：
   - 考虑添加防抖机制，减少不必要的API调用
   - 优化状态更新，避免不必要的组件重渲染

### 修复步骤

1. 修改 `Experiments.tsx` 文件中的 `handleDeleteExperiment` 函数
2. 优化 `Experiments.tsx` 文件中的自动展开日志逻辑
3. 调整 `Experiments.tsx` 文件中的自动刷新逻辑
4. 测试修复效果，确保删除功能正常且页面不再频繁刷新

### 预期效果

- 删除实验后，页面会立即刷新并显示最新的实验列表
- 页面不再频繁刷新，只有在必要时才会更新
- 自动展开日志功能更加智能，不会频繁切换展开的日志面板